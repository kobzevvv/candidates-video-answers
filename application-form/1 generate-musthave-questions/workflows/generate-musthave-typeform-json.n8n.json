{
  "name": "generate-non-public-extra-job-details-typeform-json",
  "nodes": [
    {
      "parameters": {
        "fields": [
          {
            "name": "non_public_extra_job_details",
            "type": "string",
            "label": "Non-Public-extra-job-details list",
            "required": true,
            "placeholder": "One Non-Public-extra-job-detail per line"
          }
        ]
      },
      "name": "Non-Public-extra-job-details Form",
      "type": "n8n-nodes-base.formTrigger",
      "typeVersion": 1,
      "position": [250, 300]
    },
    {
      "parameters": {
        "filePath": "Self-Evaluation Form/1 generate-musthave-questions/1.1 must-have-questions-list-generation/must-have-questions-generation-prompt.md"
      },
      "name": "Read Prompt File",
      "type": "n8n-nodes-base.readBinaryFile",
      "typeVersion": 1,
      "position": [450, 300]
    },
    {
      "parameters": {
        "functionCode": "const prompt = Buffer.from(items[1].binary.data.data, 'base64').toString();\nconst details = items[0].json.non_public_extra_job_details;\nreturn [{ json: { fullPrompt: `${prompt}\n\nNon-Public-extra-job-details list:\n${details}` } }];"
      },
      "name": "Build Prompt",
      "type": "n8n-nodes-base.function",
      "typeVersion": 1,
      "position": [650, 300]
    },
    {
      "parameters": {
        "operation": "chat",
        "chatCompletion": {
          "model": "gpt-3.5-turbo",
          "messages": [
            {
              "role": "system",
              "content": "={{$json.fullPrompt}}"
            }
          ],
          "responseFormat": "json"
        }
      },
      "name": "OpenAI",
      "type": "n8n-nodes-base.openAi",
      "typeVersion": 1,
      "position": [850, 300]
    }
  ],
  "connections": {
    "Non-Public-extra-job-details Form": {
      "main": [
        [
          {
            "node": "Read Prompt File",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Read Prompt File": {
      "main": [
        [
          {
            "node": "Build Prompt",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Build Prompt": {
      "main": [
        [
          {
            "node": "OpenAI",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {},
  "id": "generate-non-public-extra-job-details-typeform-json"
}
